[
  {
    "name": "Make neuros.html describing all neuron classes",
    "_classname": "script",
    "code": "function main()\n{\n  var f = File.create(\"neurons.html\", \"All registered neuron classes, including script-defined neurons.\");\n  f.writeString(\"<html><body>\\n<h2>All neuron types: summary</h2>\\n\\n<table border=1 cellpadding=5>\");\n  var i;\n  for (i = 0;i < NeuroClassLibrary.count;i++) //first, non-experimental neurons\n  {\n    NeuroClassLibrary.class = i;\n    if (String.indexOf(NeuroClass.longname, \"EXPERIMENTAL\") < 0)\n      neuro(i, f);\n  }\n  f.writeString(\"</table><h2 class=\\\"nagztlem\\\">Experimental neurons</h2><p>Do not use unless you know what you are doing. \");\n  f.writeString(\"Some of these neurons may be unstable, many are used for special purposes.\\n<p><table border=1 cellpadding=5>\\n\");\n  for (i = 0;i < NeuroClassLibrary.count;i++) //then, experimental ones\n  {\n    NeuroClassLibrary.class = i;\n    if (String.indexOf(NeuroClass.longname, \"EXPERIMENTAL\") >= 0)\n      neuro(i, f);\n  }\n  f.writeString(\"</table></body></html>\");\n  f.close();\n}\n\nfunction neuro(i, f)\n{\n  f.writeString(\"<tr><td width=\\\"30%\\\">\");\n  if (String.indexOf(NeuroClass.longname, \"EXPERIMENTAL\") >= 0)\n    f.writeString(\"<font color=gray>\");\n  else\n    f.writeString(\"<font color=black>\");\n\n  f.writeString(\"<p><span style=\\\"font-size:180%\\\">\" + html(NeuroClass.name) + \"</span> &nbsp; (\" + html(NeuroClass.longname) + \")\\n\");\n  if (String.len(NeuroClass.description) > 0)\n    f.writeString(\"<p>\" + html(NeuroClass.description) + \"</p>\\n\");\n  f.writeString(\"</td>\\n\");\n\n  var sum = NeuroClass.summary;\n  var pos = String.indexOf(sum, \"Characteristics:\");\n  if (pos >= 0)\n    sum = String.substr(sum, pos + 17, String.len(sum) - pos - 17);\n  f.writeString(\"<td><pre>\" + rtrim(sum) + \"</pre></td></tr>\\n\\n\");\n}\n\nfunction rtrim(name)\n{\n  while (String.right(name, 1) == \"\\n\")\n    name = String.left(name, String.len(name) - 1);\n  name = String.replace(name, \"\\n\\n\", \"\\n\");\n  return name;\n}\n\nfunction html(name)\n{\n  name = String.replace(name, \"<\", \"&lt;\");\n  name = String.replace(name, \">\", \"&gt;\");\n  name = String.replace(name, \"\\n\", \"<br>\");\n  name = String.replace(name, \"-\", \"&ndash;\");\n  return name;\n}\n"
  }
]