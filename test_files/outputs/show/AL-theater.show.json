[
  {
    "name": "Framsticks Theater",
    "_classname": "show",
    "info": "Click \"Current show\" and select a show!\n",
    "expdef": "standard",
    "code": "@include \"AL-objects.inc\"\n\nfunction beforeLoad()\n{\nGLDisplay.back_action=\"backToTheater\";\n}\n\nfunction onBack()\n{\nGLDisplay.menu_visible=0;\nShowManager.show=\"AL-top\";\n}\n\nfunction onLoad()\n{\n  GLDisplay.user_interaction=1+2+16;\n  GLDisplay.world_visibility=1+4;\n  GLDisplay.menu_visible=1;\n  ShowManager.includeshows=\"*\";\n  ShowManager.excludeshows=\"AL-*,welcome\";\n  GLDisplay.menu_state=\"show\";//AFTER setting include/excludeshows\n  ShowManager.dispinfo=2;\n  GLDisplay.skybox=\"\";\n  GLDisplay.bgcolor=0;\n  GLDisplay.back_action=\"onBack\";\n\n  addTheaterObject()[0].transform=Matrix.new();\n\n  World.wrldsiz=20;\n  TrackingCam.cam_world=1;\n  TrackingCam.setViewDir(90, 20);\n  TrackingCam.cam_zoom = 0.6;\n\n  ExpProperties.MaxCreated = 1;\n  ExpProperties.feed = 0;\n  CreatureSelection.clear();\n\n  var pop=Populations[0];\n  var pool=GenePools[0];\n\n  pop.clear();\n  pop.death = 0;\n  pool.clear();\n  Simulator.import(\"theaterwelcome.gen\", 2);\n  //var cr=Population.createFromString(\"rrlllllX(,,LLXX,,XX(XX,XlX,),)\");\n  var cr = pop.add(pool[0]);\n  cr.nnenabled = 1;\n  cr.locationSetBboxLow((World.wrldsiz - cr.bboxSize.x) / 2, (World.wrldsiz - cr.bboxSize.y) / 2, -2);\n\n  var i;\n\n  for (i = 1;i < 7;i++)\n  {\n    var c = pop.add(pool[i]);\n    c.nnenabled = 1;\n    c.locationSetBboxLow((World.wrldsiz - cr.bboxSize.x)*0.5 + World.wrldsiz*0.3*Math.cos(i),\n              (World.wrldsiz - cr.bboxSize.y)*0.5 + World.wrldsiz*0.3*Math.sin(i),\n              -2);\n  }\n\n  pool.clear();\n  Populations[1].death = 0;\n\n  GLDisplay.desiredsimspeed=100;\n}\n\nfunction onShowStep()\n{\n  var anim=Math.time;\n  TrackingCam.setViewDir(90.0 + 10.0*Math.sin(anim*0.5), 20.0 + 10.0*Math.cos(anim*0.5));\n  TrackingCam.cam_zoom = 0.8 * (2.5 + Math.sin(anim * 0.15)) / 2.5;\n}\n\n"
  }
]